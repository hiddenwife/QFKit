# Financial Analysis & Simulation Toolkit

A modular Python toolkit for sophisticated **time-series analysis**, **portfolio construction**, **stochastic simulation**, and **Bayesian forecasting**. It leverages a responsive and intuitive GUI built with `PySide6` to make advanced quantitative tools accessible to everyone.

## Quick Start
**Recommended**: Make a new virtual environment, then run:
```bash
pip install -r requirements.txt
python main.py
```

## Overview and Usage
This application provides a suite of tools for quantitative finance. Load financial tickers from Yahoo Finance, perform statistical analysis, construct and evaluate multi-asset portfolios, and project future performance using stochastic models and a Bayesian forecasting engine.

The integrated workflow allows for rapid iteration between analysis, portfolio construction, and forecasting. The primary goal is to provide a robust platform for evaluating and comparing investment strategies based on quantitative metrics.

This toolkit empowers you to make data-driven investment decisions. Whether you're a student, an investor, or a researcher, this tool provides a powerful, user-friendly platform to explore financial data.

## Core Features
**Data loading & Analysis**: 
- **Data Fetching**: Pulls historical OHLCV data via yfinance and computes log returns.
- **Performance Metrics**: Calculates standard industry metrics including CAGR, annualised volatility, and Sharpe Ratio.
- **Growth Probability Models**: Estimates the probability of future price increases over specified horizons using a lognormal price distribution model.

**Portfolio Analytics** 
- **Portfolio Construction**: Build weighted portfolios from any combination of loaded tickers. Weights are automatically normalised to construct a new portfolio time series.
- **Risk Decomposition**: Generate correlation and covariance matrices for the portfolio's underlying assets.
- **Variance Contribution Analysis**: Quantify each asset's percentage contribution to total portfolio variance.
- **Integrated Portfolio Object**: Once created, a portfolio is treated as a distinct entity that can be passed directly to the simulation and forecasting modules for further analysis.

**Stochastic Simulation Suite**:

Run sophisticated Monte Carlo simulations to model future price paths.
- **Geometric Brownian Motion (GBM)**: The industry standard for stock price simulation.
- **Jump-Diffusion (Merton Model)**: Extends GBM to account for sudden, discontinuous price jumps (market shocks).
- **Heston Stochastic Volatility Model**: A dual-process model where asset volatility itself is stochastic, capturing volatility clustering effects.

**Bayesian Forecasting Engine**:

This is the most powerful feature of the toolkit, leveraging the `PyMC` library for robust, probabilistic forecasting.
- **Sophisticated Core Model**: An **Autoregressive (AR(p)) model with a Student-T likelihood**. This specification is chosen for its robustness in modeling the heavy-tailed nature of financial returns.
- **Dual Inference Methods**:
  - **Full MCMC (NUTS)**: Employs the No-U-Turn Sampler (a Hamiltonian Monte Carlo method) for the most accurate posterior estimation.
  - **Fast ADVI**: Uses Automatic Differentiation Variational Inference for rapid model fitting when speed is a priority.
- **Probabilistic Forecasts**: The output is a full posterior predictive distribution, not a single point estimate. This is visualised with **80% and 95% credible intervals** to quantify forecast uncertainty.
- **Interactive Visuals**: Explore forecast results with interactive plots generated by `Plotly`.

## GUI & Architecture
- **Tabbed Interface**: Functionality is segmented into modules: Data Loading, Analysis, Portfolio, Simulation, and Forecasting.
- **Asynchronous & Responsive UI**: All computationally heavy tasks (MCMC sampling, Monte Carlo simulations) are executed on background threads (`QThread`). This prevents the UI from freezing during analysis.
- **Integrated Workflow**: The application architecture is designed to pass data objects (like a constructed portfolio) seamlessly between different analysis tabs.

## Project Structure
financial_tools/

├── main.py

├── gui/

│   ├── __init__.py

│   ├── main_window.py

│   └── tabs/

│       ├── __init__.py

│       ├── analysis_tab.py

│       ├── compare_tab.py

│       ├── forecast_tab.py

│       ├── load_data_tab.py

│       ├── portfolio_tab.py

│       └── simulation_tab.py

├── src/

│   ├── analysis.py

│   ├── data_loader.py

│   ├── forecast.py

│   ├── portfolio.py

│   └── simulation.py

├── requirements.txt

└── README.md